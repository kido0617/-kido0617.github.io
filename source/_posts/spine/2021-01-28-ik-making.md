title: IK作成時にボーンがずれないようにする
date: 2021-01-28
category: Spine
---

## クリックでIKのターゲットを作成した時のずれ

IKを作成する際、親子ボーンを選択したあとに適当なスペースをクリックすると、IKのターゲットが作成されます。  
しかし、位置が正確でないためボーンが微妙にずれます。  
選択したボーンの先端の位置にIKのターゲットが作成できれば、ずれないのですが、ボーンの先端の位置を取得することができません。  

![IKターゲットの作成](/img/2021-01-28-ik-making/click.png)


## 既存のボーンをターゲットにする

IKを作成するときにHierarchyから既存のボーンを選択すると、それをIKのターゲットにできます。  
これを用いて正確な位置にIKターゲットを作成します。  

1. HierarchyからIKの先端になるボーンを選択します。  
2. 下図のようにHierarchy下部のNewからボーンを選択し、ボーンを作成します。  
   この手順で作成したボーンは親ボーンの先端位置に正確に作成されます。

![IKターゲットの作成](/img/2021-01-28-ik-making/new-bone.png)

![bone3はbone2の先端位置に作成される](/img/2021-01-28-ik-making/bone3.png)

3. 作成したボーンを別の階層に移動させます(IKターゲットはIK対象のボーンの子にすることはできません)

![ボーンを移動する](/img/2021-01-28-ik-making/move.png)

4. 親子ボーンを選択し、IKコンストレイントを作成します。その際、作成したボーンを選択します。

これで正確な位置にIKのターゲットを作成することができました。

## 使用バージョン

Spine 3.8.99


## 参考

[Create IK target at the tip of the bone](http://ja.esotericsoftware.com/forum/Create-IK-target-at-the-tip-of-the-bone-10405?sid=db41d7c3c8a9de240009e01c9f7ed5bb&p=46851)