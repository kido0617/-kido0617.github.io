title: テクスチャパッキング方式の選択
date: 2024-11-29
category: Spine
---

## 概要

Spineをエクスポートする際にテクスチャパッキングの手法を選択できます。

![パッキング手法の選択](/img/2024-11-29-export-polygon/packing.png)

デフォルトでは`Rectangles`が選択されていますが、`Polygons`の方がテクスチャを効率よく敷き詰めることが可能です。  
その違いが以下です。

![パッキング手法の違い](/img/2024-11-29-export-polygon/diff.png)

Rectanglesだとメッシュを切っていても四角でパーツを分けられるため左のように斜めの素材が大きい領域になってしまっています。  
一方、Polygonsだとメッシュのサイズでパーツが分けられるため隙間を埋めることができます。


## メリット/デメリット

Polygonsを選択した際のデメリットは計算に時間がかかるため、エクスポート時間が伸びます。 
パッキングの画像配置で様々なパターンを試行しますが、一定の試行回数を超えると最適なパッキングじゃなくても中断されるようで、設定によっては空白が大きく生じる場合があるとのことです。  
その場合、ページの最大幅と最大高さなど設定を見直し、サイズを調整する必要があります。

しかし、エクスポートに時間がかかってもランタイム側でパフォーマンスの影響はないため、ゲームで動かす場合はPolygonsを選択した方が良さそうです。


## 参考資料

[Spineフォーラムの質問](https://ja.esotericsoftware.com/forum/d/27143-%E5%85%B3%E4%BA%8E%E7%BA%B9%E7%90%86%E6%89%93%E5%8C%85-%E6%89%93%E5%8C%85%E6%96%B9%E5%BC%8F-%E5%A4%9A%E8%BE%B9%E5%BD%A2%E7%9A%84%E4%B8%80%E4%BA%9B%E7%96%91%E9%97%AE)  
[Spine公式-テクスチャパッキング](http://ja.esotericsoftware.com/spine-texture-packer)


## 使用バージョン

Spine 4.1.24